<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			</script><title>Request a JWT for the Authoring and Management API or the XM Cloud Deploy API</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/62ea68e1188c6.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Create the access token that you need to call the protected APIs in the CM instance."></meta><meta name="keywords" content="OAuth, access token, JWT"></meta><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/an-old-hope.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script></head><body class="theme1 page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" placeholder="Search" class="form-control search-field" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-node"> Request a JWT for the Authoring and Management API or the XM Cloud Deploy API</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"></li><li class="next"></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-permalink="request-a-jwt-for-the-authoring-and-management-api-or-the-xm-cloud-deploy-api.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-36c11704-0fd6-bf2b-5b7b-c40d63cb5fcf"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Request a JWT for the Authoring and Management API or the XM Cloud Deploy API<span id="UUID-55862f59-61aa-c6de-5784-c9a9e86a0b5d"></span></h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Create the access token that you need to call the protected APIs in the CM instance.</p></div></div></div></div><p>The Sitecore Authoring and Management API and the XM Cloud Deploy API use the <a class="link" href="https://auth0.com/docs/authenticate/protocols/oauth" target="_blank" rel="noopener">OAuth authorization framework</a> for security. OAuth allows one program to authorize another program to make changes on behalf of an account holder or end-user.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>You can also <a class="link linktype-component linktextconsumer" href="/document/preview/776449#UUID-d12518d1-32fa-089d-4e6e-96116e14f9e6" target="_blank">request a JWT for Experience Edge XM using OAuth</a>.<span style="display:none !important;" id="N65083e06843ea" class="linktextprovider">Request a JWT for Experience Edge XM using OAuth</span></p></div><p>To run any operation in the XM Cloud CM instance API, the caller must first obtain an authentication token in JSON Web Token (JWT) format and include it in every call to the CM instance. Following successful authentication, the calling application has access to an access token, which can be used to call the <a class="link linktype-component linktextconsumer" href="/document/preview/960057#UUID-23510fe8-5f05-ce08-0de0-034a5667718b" target="_blank">CM instance APIs</a>.<span id="N65083e0687ae2" class="linktextprovider" style="display:none !important;">Sitecore Authoring and Management GraphQL API</span></p><h3 id="idm46250915849296" class="bridgehead">OAuth endpoint</h3><p>When requesting a JWT, you must make a POST request to the OAuth endpoint:</p><pre class="programlisting plaintext" data-language="plaintext" id="programlisting-idm4530845494603233496133711016">https://auth.sitecorecloud.io/oauth/token</pre><h3 id="idm46250915847568" class="bridgehead">Request headers</h3><p id="para-idm1403349295984140">For the following cURL example, the data is encoded as form data. Therefore the <code class="code">POST</code> request must specify the <code class="code">Content-Type</code> request header with the value <code class="code">application/x-www-form-urlencoded</code> .</p><h3 id="idm46250915845664" class="bridgehead">Request body</h3><p>When you request a JWT, you must include the client ID and client secret of an <a class="link linktype-component linktextconsumer" href="/document/preview/1063749#UUID-a5cd5af7-8533-9d5e-9aa7-9a01e970aa4c" target="_blank">automation client</a> generated for the environment that contains the CM instance.<span id="N65083e068a332" class="linktextprovider" style="display:none !important;">Manage client credentials for an XM Cloud organization or environment</span></p><p>The body of the JWT request to the OAuth endpoint must include the following properties:</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Name</p></th><th class="th"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">audience</code></p></td><td class="td"><p><code class="code">https://api.sitecorecloud.io</code></p></td></tr><tr><td class="td"><p><code class="code">grant_type</code></p></td><td class="td"><p><code class="code">client_credentials</code></p></td></tr><tr><td class="td"><p><code class="code">client_id</code></p></td><td class="td"><p>The client ID of your automation client.</p></td></tr><tr><td class="td"><p><code class="code">client_secret</code></p></td><td class="td"><p>The client secret of your automation client.</p></td></tr></tbody></table></div><h3 id="idm46250915835456" class="bridgehead">Request a token</h3><p>To request an access token for the CM instance APIs, use a <code class="code">POST</code> request.</p><p>For example, request the JWT using the curl client:</p><pre class="programlisting curl" data-language="curl">curl --request POST --url "https://auth.sitecorecloud.io/oauth/token" --header "content-type: application/x-www-form-urlencoded" --data audience=https://api.sitecorecloud.io --data grant_type=client_credentials --data client_id=&lt;your-client-id&gt; --data client_secret=&lt;your-client-secret&gt;</pre><p>You receive the <code class="code">access_token</code>, <code class="code">token_type</code>, and <code class="code">expires_in</code> values.</p><p>After you <a class="link linktype-fork linktextconsumer" href="/document/preview/988222#UUID-11a4cccd-fb6a-db33-d1e8-ca5081e623e2" target="_blank">enable the GraphQL IDE</a>, you can use the retrieved access token as the Bearer token to <a class="link linktype-fork linktextconsumer" href="/document/preview/988222#UUID-11a4cccd-fb6a-db33-d1e8-ca5081e623e2" target="_blank">authorize the GraphQL IDE</a> or to <a class="link linktype-fork linktextconsumer" href="/document/preview/988222#UUID-11a4cccd-fb6a-db33-d1e8-ca5081e623e2" target="_blank">authorize HTTP requests</a>.<span id="N65083e068ca22" class="linktextprovider" style="display:none !important;">Walkthrough: Enabling and authorizing requests to the Authoring and Management API</span><span id="N65083e068edb1" class="linktextprovider" style="display:none !important;">Walkthrough: Enabling and authorizing requests to the Authoring and Management API</span><span id="N65083e068faec" class="linktextprovider" style="display:none !important;">Walkthrough: Enabling and authorizing requests to the Authoring and Management API</span></p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Pay attention to the <code class="code">expires_in</code> property of the response because JWTs typically expire in 24 hours. After that time, the token is invalid and you must request a new token.</p></div></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article></main><div id="bottom-pager"><ul class="pager"><li class="previous"></li><li class="next"></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023  </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
